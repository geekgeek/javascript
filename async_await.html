<html>
<head>
  <title>Express HTML</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
</head>
<body>
  <div style="margin:100px;">
    <nav class="navbar navbar-inverse navbar-static-top">
  <div class="container">
    <a class="navbar-brand" href="/">Express HTML</a>
    <ul class="nav navbar-nav">
      <li class="active">
        <a href="/">Home</a>
      </li>
      <li>
        <a href="/about">About</a>
      </li>
      <li>
        <a href="/sitemap">Sitemap</a>
      </li>
    </ul>
  </div>
</nav>
    <div class="jumbotron"  style="padding:40px;">
      <h1>Hello, world!</h1>
      <p>This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.</p>
      <p><a class="btn btn-primary btn-lg" href="#" role="button">Learn more</a></p>
    </div>
  </div>

  <script>
      
      //normal javascript
      function httpGet(theUrl)
      {
          var xmlHttp = new XMLHttpRequest();
          xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
          xmlHttp.send( null );
          return xmlHttp.responseText;
      }

      //promises
      async function httpGetAsync(url)
      { 
        fetch(url).then(function(response) 
        {
            //console.log("number 1")//before
            return response.text();
          }).then(function(data) {
            //console.log("number 2") //before
            console.log(data);
          }).catch(function() {
            console.log("Booo");
          });
      }

      //promises
      /**
 async function httpGetAsync(url)
      { 
        fetch(url).then(function(response) 
        {
            return response.text();
          }).then(function(data) {//nested promise 1
            //console.log(data);
            return data;
          }).then(function(data)//nested promise 2
             {
                var line_array = data.split("\n");
                  //console.log(line_array);

                  var line_col = [];
                  for(var i = 0;i < line_array.length;i++)
                  {
                      line_col.push(line_array[i].split(";"));

                  }
                    console.log(line_col);
                  return line_col;
                  
            })
          ;
      }
      **/

      //async await
      async function asyncawait()
      {
          //write file
          var first = await httpGetAsync("writefile");
          console.log(first);

          //read file
          var third = await httpGetAsync("readfile");
          console.log(third);
          
      }
  </script>
</body>
</html>
